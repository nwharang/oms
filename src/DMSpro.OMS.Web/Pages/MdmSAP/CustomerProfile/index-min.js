$((async function(){gridInfo.instance.mainGrid=$("#dgCustomers").dxDataGrid({dataSource:store.customStore,repaintChangesOnly:!0,editing:{mode:"row",useIcons:!0,texts:{editRow:l("Edit"),deleteRow:l("Delete"),confirmDeleteMessage:l("DeleteConfirmationMessage")}},remoteOperations:!0,showRowLines:!0,showBorders:!0,cacheEnabled:!0,allowColumnReordering:!0,rowAlternationEnabled:!0,allowColumnResizing:!0,columnResizingMode:"widget",columnAutoWidth:!0,filterRow:{visible:!0},groupPanel:{visible:!0},searchPanel:{visible:!0},columnMinWidth:50,columnChooser:{enabled:!0,mode:"select"},columnFixing:{enabled:!0},export:{enabled:!0},onExporting(e){const t=new ExcelJS.Workbook,a=t.addWorksheet("Data");DevExpress.excelExporter.exportDataGrid({component:e.component,worksheet:a,autoFilterEnabled:!0}).then((()=>{t.xlsx.writeBuffer().then((e=>{saveAs(new Blob([e],{type:"application/octet-stream"}),"Customer.xlsx")}))})),e.cancel=!0},headerFilter:{visible:!0},paging:{enabled:!0,pageSize:pageSize},pager:{visible:!0,showPageSizeSelector:!0,allowedPageSizes:allowedPageSizes,showInfo:!0,showNavigationButtons:!0},toolbar:{items:["groupPanel","addRowButton","columnChooserButton","exportButton","searchPanel"]},columns:[{type:"buttons",caption:l("Actions"),alignment:"left",buttons:[{icon:"fieldchooser",text:l("Button.ViewDetail"),onClick:e=>{gridInfo.data=e.row.data,renderPopup()}},"delete"],fixed:!0,fixedPosition:"left",showInColumnChooser:!1},{dataField:"id",caption:l("Id"),dataType:"string",visible:!1,formItem:{visible:!1}},{dataField:"code",caption:l("MdmSAPService.Entity.Code"),dataType:"string",showInColumnChooser:!1},{dataField:"name",caption:l("MdmSAPService.Entity.Name"),dataType:"string",validationRules:[{type:"required"}],showInColumnChooser:!1},{dataField:"foreignName",caption:l("MdmSAPService.Entity.ForeignName"),dataType:"string"},{dataField:"phone1",caption:l("MdmSAPService.Entity.Phone1"),dataType:"string",validationRules:[{type:"pattern",pattern:"^[0-9]{10}$",message:l("ValidateError:Phone")}]},{dataField:"phone2",caption:l("MdmSAPService.Entity.Phone2"),dataType:"string",validationRules:[{type:"pattern",pattern:"^[0-9]{10}$",message:l("ValidateError:Phone")}]},{dataField:"paymentGroup",caption:l("MdmSAPService.Entity.PaymentGroup"),dataType:"string"},{dataField:"fedTaxID",caption:l("MdmSAPService.Entity.FedTaxID"),dataType:"string"},{dataField:"contactPerson",caption:l("MdmSAPService.Entity.ContactPerson"),dataType:"string",showInColumnChooser:!1},{dataField:"parentCode",caption:l("MdmSAPService.Entity.ParentCode"),dataType:"string",showInColumnChooser:!1},{dataField:"erpCusCode",caption:l("MdmSAPService.Entity.ERPCusCode"),dataType:"string"},{dataField:"priceListCode",caption:l("MdmSAPService.Entity.PriceListCode"),dataType:"string"},{dataField:"taxGroupCode",caption:l("MdmSAPService.Entity.TaxGroupCode"),dataType:"string"},{dataField:"creditLimit",caption:l("MdmSAPService.Entity.CreditLimit"),dataType:"number",editorOptions:{min:0,format:"#"}},{dataField:"active",caption:l("MdmSAPService.Entity.Active"),width:110,alignment:"center",dataType:"boolean",cellTemplate(e,t){$("<div>").append($("Y"==t.data.active?'<i class="fa fa-check" style="color:#34b233"></i>':'<i class= "fa fa-times" style="color:red"></i>')).appendTo(e)}}]}).dxDataGrid("instance"),initImportPopup("api/mdm-service/customers","Customers_Template","dgCustomers")}));