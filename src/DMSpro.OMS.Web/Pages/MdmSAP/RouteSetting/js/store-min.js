let l=abp.localization.getResource("OMS"),readOnly=!0,gridInfo={itemAttr:{},data:{},element:{loadingPanel:$('<div class"fixed"/>'),popup:$("<div/>").appendTo("body"),form:$("<div/>"),grid:$('<div class="mt-5"/>')},instance:{loadingPanel:null,popup:null,form:null,grid:null,mainGrid:null}},enumValue={customerType:[]},rpcService={mCPHeaderService:window.dMSpro.oMS.mdmService.controllers.mCPHeaders.mCPHeader,salesOrgHierarchyService:window.dMSpro.oMS.mdmService.controllers.salesOrgHierarchies.salesOrgHierarchy,itemGroupService:window.dMSpro.oMS.mdmService.controllers.itemGroups.itemGroup,companyInZoneService:window.dMSpro.oMS.mdmService.controllers.companyInZones.companyInZone,customerInZoneService:window.dMSpro.oMS.mdmService.controllers.customerInZones.customerInZone,customerService:window.dMSpro.oMS.mdmService.controllers.customers.customer,companyService:window.dMSpro.oMS.mdmService.controllers.companies.company,mCPDetailsService:window.dMSpro.oMS.mdmService.controllers.mCPDetails.mCPDetail,visitPlanService:window.dMSpro.oMS.mdmService.controllers.visitPlans.visitPlan},store={salesOrgHierarchyStore:new DevExpress.data.CustomStore({key:"id",load(e){const r=$.Deferred(),o={};return requestOptions.forEach((r=>{r in e&&isNotEmpty(e[r])&&(o[r]=JSON.stringify(e[r]))})),rpcService.salesOrgHierarchyService.getListDevextremes(o).done((e=>{r.resolve(e.data,{totalCount:e.totalCount,summary:e.summary,groupCount:e.groupCount})})),r.promise()},byKey:function(e){if(0==e)return null;let r=new $.Deferred;return rpcService.salesOrgHierarchyService.get(e).done((e=>{r.resolve(e)})),r.promise()}}),mCPHeaderStore:new DevExpress.data.CustomStore({key:"id",load(e){const r=$.Deferred(),o={};return requestOptions.forEach((r=>{r in e&&isNotEmpty(e[r])&&(o[r]=JSON.stringify(e[r]))})),rpcService.mCPHeaderService.getListDevextremes(o).done((e=>{r.resolve(e.data,{totalCount:e.totalCount,summary:e.summary,groupCount:e.groupCount})})),r.promise()},byKey:function(e){if(0==e)return null;let r=new $.Deferred;return rpcService.mCPHeaderService.get(e).done((e=>{r.resolve(e)})),r.promise()}}),mCPDetailsStore:new DevExpress.data.CustomStore({key:"id",load(e){const r=$.Deferred(),o={};return requestOptions.forEach((r=>{r in e&&isNotEmpty(e[r])&&(o[r]=JSON.stringify(e[r]))})),rpcService.mCPDetailsService.getListDevextremes(o).done((e=>{r.resolve(e.data,{totalCount:e.totalCount,summary:e.summary,groupCount:e.groupCount})})),r.promise()},byKey:function(e){if(0==e)return null;let r=new $.Deferred;return rpcService.mCPDetailsService.get(e).done((e=>{r.resolve(e)})),r.promise()}}),customerStore:new DevExpress.data.CustomStore({key:"customerId",load(e){const r=$.Deferred();e.filter=[...e.filter&&e.filter.length>0?[e.filter,"and"]:[],[["endDate",">=",moment().format("YYYY-MM-DD")],"or",["endDate","=",null]],"and",["salesOrgHierarchyId","=",sellingZoneId]];const o={};return requestOptions.forEach((r=>{r in e&&isNotEmpty(e[r])&&(o[r]=JSON.stringify(e[r]))})),rpcService.customerInZoneService.getListDevextremes(o).done((e=>{r.resolve(e.data,{totalCount:e.totalCount,summary:e.summary,groupCount:e.groupCount})})),r.promise()},byKey:function(e){if(0==e)return null;let r=new $.Deferred;return rpcService.customerService.get(e).done((e=>{r.resolve(e)})),r.promise()}}),companyInZoneStore:new DevExpress.data.CustomStore({key:"id",load(e){const r={};requestOptions.forEach((o=>{o in e&&isNotEmpty(e[o])&&(r[o]=JSON.stringify(e[o]))}));const o=$.Deferred();return rpcService.companyInZoneService.getListDevextremes(r).done((e=>{let r=[];e.data.forEach((e=>{r.push({id:e.company.id,name:e.company.name})})),o.resolve(r,{totalCount:e.totalCount,summary:e.summary,groupCount:e.groupCount})})),o.promise()},byKey:function(e){if(0==e)return null;let r=new $.Deferred;return rpcService.companyService.get(e).done((e=>{r.resolve(e)})),r.promise()}}),companyStore:new DevExpress.data.CustomStore({key:"id",load(e){const r=$.Deferred(),o={};return requestOptions.forEach((r=>{r in e&&isNotEmpty(e[r])&&(o[r]=JSON.stringify(e[r]))})),rpcService.companyService.getListDevextremes(o).done((e=>{r.resolve(e.data,{totalCount:e.totalCount,summary:e.summary,groupCount:e.groupCount})})),r.promise()},byKey:function(e){if(0==e)return null;var r=new $.Deferred;return rpcService.companyService.get(e).done((e=>{r.resolve(e)})),r.promise()}}),itemGroupStore:new DevExpress.data.CustomStore({key:"id",load(e){const r=$.Deferred(),o={};return requestOptions.forEach((r=>{r in e&&isNotEmpty(e[r])&&(o[r]=JSON.stringify(e[r]))})),rpcService.itemGroupService.getListDevextremes(o).done((e=>{r.resolve(e.data,{totalCount:e.totalCount,summary:e.summary,groupCount:e.groupCount})})),r.promise()},byKey:function(e){if(0==e)return null;var r=new $.Deferred;return rpcService.itemGroupService.get(e).done((e=>{r.resolve(e)})),r.promise()}})};$((()=>{enumValue={customerType:[{id:"C",text:"Coverage"},{id:"P",text:"Potential"}]},gridInfo.instance.loadingPanel=gridInfo.element.loadingPanel.dxPopup({height:100,width:100,showTitle:!1,animation:null,contentTemplate:e=>$("<div/>").dxLoadIndicator({height:60,width:60})}).appendTo("body").dxPopup("instance"),gridInfo.instance.loadingPanel.registerKeyHandler("escape",(()=>gridInfo.instance.loadingPanel.hide()))}));let notify=e=>{obj={type:"success",position:"bottom right",message:"Message Placeholder",...e},DevExpress.ui.notify({message:obj.message,height:45,width:250,minWidth:250,type:obj.type,displayTime:5e3,animation:{show:{type:"fade",duration:400,from:0,to:1},hide:{type:"fade",duration:40,to:0}}},{position:obj.position})};