$((async function(){gridInfo.instance.mainGrid=$("#dataGridItemMasters").dxDataGrid({dataSource:store.itemStore,remoteOperations:!0,showRowLines:!0,showBorders:!0,cacheEnabled:!0,allowColumnReordering:!0,rowAlternationEnabled:!0,allowColumnResizing:!0,columnResizingMode:"widget",columnAutoWidth:!0,repaintChangesOnly:!0,filterRow:{visible:!0},groupPanel:{visible:!0},searchPanel:{visible:!0},columnMinWidth:50,columnChooser:{enabled:!0,mode:"select"},columnFixing:{enabled:!0},export:{enabled:!0},onExporting:function(e){const t=new ExcelJS.Workbook,a=t.addWorksheet("Data");DevExpress.excelExporter.exportDataGrid({component:e.component,worksheet:a,autoFilterEnabled:!0}).then((()=>{t.xlsx.writeBuffer().then((e=>{saveAs(new Blob([e],{type:"application/octet-stream"}),"Item.xlsx")}))})),e.cancel=!0},headerFilter:{visible:!0},paging:{enabled:!0,pageSize:pageSize},pager:{visible:!0,showPageSizeSelector:!0,allowedPageSizes:allowedPageSizes,showInfo:!0,showNavigationButtons:!0},onRowUpdating:function(e){e.newData=Object.assign({},e.oldData,e.newData)},toolbar:{items:["groupPanel","addRowButton","columnChooserButton","exportButton","searchPanel"]},columns:[{type:"buttons",caption:l("Actions"),buttons:[{icon:"fieldchooser",text:l("Button.ViewDetail"),onClick:e=>{gridInfo.data=e.row.data,gridInfo.instance.loadingPanel.show(),renderPopup()}},"delete"],fixed:!0,fixedPosition:"left",showInColumnChooser:!1},{dataField:"id",caption:l("Id"),dataType:"string",allowEditing:!1,visible:!1,formItem:{visible:!1}},{dataField:"code",caption:l("EntityFieldName:MDMService:Item:Code"),dataType:"string",allowEditing:!1,showInColumnChooser:!1},{dataField:"name",caption:l("EntityFieldName:MDMService:Item:Name"),dataType:"string",validationRules:[{type:"required"}],showInColumnChooser:!1},{dataField:"foreignName",caption:l("EntityFieldName:MDMService:Item:ShortName"),dataType:"string",showInColumnChooser:!0},{caption:l("EntityFieldName:MDMService:Item:ManageItemBy"),dataType:"string",calculateCellValue:e=>"Y"==e.manBatchNum?"Lot":"Y"==e.manSerialNum?"Serial":"None",showInColumnChooser:!1},{caption:l("ERP Code"),dataType:"string",showInColumnChooser:!0},{dataField:"uomGroupCode",caption:l("EntityFieldName:MDMService:Item:UOMGroupCode"),dataType:"string",showInColumnChooser:!1},{dataField:"salesType",caption:l("EntityFieldName:MDMService:Item:ItemTypeName"),dataType:"string",showInColumnChooser:!1},{dataField:"validFor",caption:l("EntityFieldName:MDMService:Item:Active"),alignment:"center",showInColumnChooser:!1,calculateCellValue:e=>"Y"==e.validFor,cellTemplate(e,t){$("<div>").append($("Y"==t.data.validFor?'<i class="fa fa-check" style="color:#34b233"></i>':'<i class= "fa fa-times" style="color:red"></i>')).appendTo(e)}}]}).dxDataGrid("instance"),initImportPopup("api/mdm-service/items","Items_Template","dataGridItemMasters")}));